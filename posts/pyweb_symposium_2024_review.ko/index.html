<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>PyWeb Symposium 2024 다녀온 후기 | Taein.dev</title>
<meta name=keywords content="python,PyWebSymposium2024"><meta name=description content="Python Web Symposium 2024를 다녀오고 셰션 후기를 정리해봅니다."><meta name=author content="Me"><link rel=canonical href=https://maintain0404.github.io/posts/pyweb_symposium_2024_review.ko/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://maintain0404.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://maintain0404.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://maintain0404.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://maintain0404.github.io/apple-touch-icon.png><link rel=mask-icon href=https://maintain0404.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-HBTP6KYQ2X"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HBTP6KYQ2X",{anonymize_ip:!1})}</script><meta property="og:title" content="PyWeb Symposium 2024 다녀온 후기"><meta property="og:description" content="Python Web Symposium 2024를 다녀오고 셰션 후기를 정리해봅니다."><meta property="og:type" content="article"><meta property="og:url" content="https://maintain0404.github.io/posts/pyweb_symposium_2024_review.ko/"><meta property="og:image" content="https://maintain0404.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-08T21:09:00+09:00"><meta property="article:modified_time" content="2024-04-08T21:09:00+09:00"><meta property="og:site_name" content="Taein.dev"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://maintain0404.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="PyWeb Symposium 2024 다녀온 후기"><meta name=twitter:description content="Python Web Symposium 2024를 다녀오고 셰션 후기를 정리해봅니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://maintain0404.github.io/posts/"},{"@type":"ListItem","position":2,"name":"PyWeb Symposium 2024 다녀온 후기","item":"https://maintain0404.github.io/posts/pyweb_symposium_2024_review.ko/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"PyWeb Symposium 2024 다녀온 후기","name":"PyWeb Symposium 2024 다녀온 후기","description":"Python Web Symposium 2024를 다녀오고 셰션 후기를 정리해봅니다.","keywords":["python","PyWebSymposium2024"],"articleBody":"개요 얼마 전 한국마이크로소프트에서 진행된 PyWeb Symposium 2024에 갔다온 후기를 공유합니다. 이른 티켓 매진으로 가지 못했던 분들, 그냥 다른 후기가 궁금하신 분들이 읽으면 좋을 것 같습니다.\n세션별 후기 Django-Hipstack 개인적으로 가장 재밌게 봤습니다. 궁금하긴 한데 적용해보진 않은 라이브러리 대신 써보고 후기를 공유하는 세션이라 더더욱 그랬던 것 같네요.\nasync 발표자 분이 asyncio를 적용해본 후기를 공유해주셨습니다. 발표자분이 여기저기 async를 다 시도해보셔서 이런 저런 얘기를 해주셨지만, 결론은 sync_to_async, async_to_sync를 도배하는 것이 결론이었습니다. 개인 경험으로도 그렇고, 아직 async Django를 전체적으로 도입하는 것은 여러모로 권장되지 않는 것 같습니다. HTMX 이미 써보고 있는 관점에서 흥미롭게 보았습니다. 발표자 분은 첫 페이지만 렌더링하고 이후 변경은 Trigger를 주로 사용하는 전략을 사용하신 점이 인상 깊었습니다. 저는 out-of-band 전략을 주로 사용하고 있는데, 끝나고 발표자 분께 추가 질문을 드리면서 이야기해보니까 Trigger 전략이 상당히 괜찮아 보였습니다. Frontend 라이브러리의 함수를 \u0008Trigger로 호출하면서 기존 생태계를 활용하기 편한 부분이 매력적이었습니다. Ninja, django-ninja-extra Ninja는 view를 FastAPI 스타일로 작성하게 해주는 라이브러리입니다. 테스트에서 request 객체 모킹을 안해도 되어서 굉장히 편리해졌다고 말씀해주셨습니다. FastAPI식 스타일이 제게 익숙하기도 하고 타입 힌트를 통해 IDE 지원을 굉장히 많이 받을 수 있어서 좋아보입니다. 하지만 Django REST가 제공하는 쓰로틀링 같은 부가 기능이나 써드파티 통합이 없는 부분은 아쉽습니다. dependency-injector 이건 ASGI django에서 django 개발자의 오랜 친구 에러 페이지가 렌더링되지 않아서 사용하지 않게 되었다고 하셨습니다. 여담으로 이 라이브러리는 제가 쓰면서 작성한 PR을 올려놓은 게 있는데, 그 즈음부터 쭉 유지보수가 중단되었습니다. Cython으로 작성되어 퍼포먼스가 좋고, 다양한 케이스가 풍부한 게 장점이었는데, 여러모로 아쉽습니다. 대체 라이브러리로는 injector가 유력한데, 저는 dependency-injector가 개인적으로 더 좋아서 메인테이너가 유지보수를 다시 시작하거나 커뮤니티로 프로젝트가 빠르게 이관되었으면 좋겠네요. 정답은 없지만 오답은 있답니다. Python 원로분이신 발표자 분께서(나중에 패널 토크도 하셨습니다) 진행한 유일한 커리어 세션입니다. 평소에 고민하던 부분이 많고 공감되는 부분도 많아서 재미있게 들었습니다.\n기술적 우위란 없다, 네 생각을 믿어라 평소에도 생각하고 있던 부분이었습니다. 아무리 권위 높은 사람의 말이라고 한들, 스스로 고민하고 내린 결론이 더 가치 있습니다. 비용에 신경써라. 근래 가장 고민하고 있는 부분입니다. 단순히 서버 비용을 넘어서 나의 시간 비용, 팀 비용까지 함께 균형있게 고민할 필요가 있습니다. 패키지 django-가 붙은 패키지는 잘 쓰지 않아서 몰랐는데, 잘 터지는 문제가 있다고 하더군요. 개별 패키지는 괜찮습니다. 역시 패키지를 추가할 때는 star 수를 잘 참고해서 추가하는 것이 좋겠습니다. 성능 가능하면 Python 안에서 해결하는 것이 좋다고 하셨습니다. 위의 비용 부분에 연결해서, 언어 교체는 굉장히 어려운 일입니다. 정말 언어 교체가 필요한지 잘 따져보는 것이 중요하다고 생각합니다. 데이터베이스 반정규화도 마찬가지구요. 성능에 대한 환상을 경계해야 합니다. Type Hint 팀과 합의 하에 결정하라고 하십니다. 개인적으로는 mypy는 쓰지 않고, 함수/메서드 입출력은 꼭 Type Hint를 적는 것이 좋다고 생각합니다. mypy는 신경써야할 부분이 지나치게 많다고 생각합니다. 레거시란 없다. 돈을 벌고 있으면 레거시가 아니라고 합니다. 프로덕트를 개발하면서 비용과 고객을 간과하고는 합니다. 우리 개발자들은 코드만큼이나 비용과 고객을 더 잘 고려할 필요가 있다고 생각해요. SQLAlchemy \u0026 PostgreSQL SQLAlchemy와 PostgreSQL을 사용하면서 마주했던 문제들을 해결한 후기를 공유해주셨습니다. SQLAlchemy를 오래 사용해왔던 입장에서 알았던 것도 있고, 알았지만 잘 신경쓰지 않았던 부분도 있고, 몰랐던 부분도 있어서 흥미롭게 들었습니다. 잘 몰랐거나 신경쓰지 않았던 기억에 남는 부분만 정리하면 아래와 같습니다.\n풀 재활용 DB에서 커넥션을 닫아도 SQLAlchemy 풀에서 탐지되지 않을 수 있음 DB 연결 시간보다 recycle을 짧게 설정해 강제로 재연결하게 설정하면 위 문제가 일어나지 않음 tenacity 다용도로 쓸 수 있는 retry 라이브러리입니다. 상당히 괜찮아 보입니다. PostgreSQL Serialization Failure 고립 수준 3단계 이상에서 생길 수 있는 문제로, 롤백/세이브포인트로 해결이 불가능하고 트랜잭션 재시도를 통해서만 해결이 가능하다고 합니다. 곰곰히 생각해보면 Serialization Failure는 다른 트랜잭션 간의 충돌 문제이므로 롤백/세이브포인트로는 해결 불가능한 것이 당연하다고 볼 수 있습니다. 공식 문서에도 나와있습니다. flask 멀티스레딩 멀티스레딩/멀티프로세싱/코루틴을 각각 사용해보고 비교해보는 내용을 공유해주셨습니다. Flask 이야기는 거의 없었네요.\n캐시 패턴 진화사 서비스가 커지면서 커지는 부하를 감당하기 위해 캐시 코드를 점차 개선한 후기를 공유해주셨습니다. 총 5번의 진화 단계를 공유해주셨습니다.\n일단 붙이기 레이어 정리하고 View에만 붙이기 쓰기 락 걸기 구 버전 유지하고, 락 중에 구 버전 응답 최초 쓰기 시점에 바로 캐시 set Django Migration 팁 django에서는 DB에서 변경이 일어나지 않았더라도 Model field의 변경이 있으면 마이그레이션을 생성합니다. 이 마이그레이션이 불편해서 생기지 않게 하기 위해 노력한 후기를 공유해주셨습니다. 사실 이게 무시해도 별 상관없는 귀찮은 부분이라 저도 언젠가 고쳐야지 하고 딱히 건들지 않았습니다. 파일이\nAPI 개발 설계 먼저 구현 먼저? 후원사(Microsoft) 세션입니다. API는 일종의 계약임을 강조하며 Microsoft 프로덕트를 활용해 API spec Driven 개발 방법을 설명해주셨습니다. spec driven 개발의 필요성은 매우 공감하지만 code -\u003e OpenAPI spec 변환과 달리 OpenAPI spec -\u003e code 변환이 대체로 더 구리고 귀찮은 관계로 사용하지 않았습니다. 기획 단계에서 글로 스펙을 정의하고, OpenAPI 스펙은 code에서 뽑아내는 것이 일반적이었습니다. 일반적으로 잘 알려진 HETEOAS(Hypermedia as The Engine Of Application)원칙 외에도 HAL(Hypertext Application Language)를 처음 알게되어 좋았습니다. 꼭 HAL을 준수해서 사용하지 않아도 HAL에서 사용하는 링크는 자주 썼었는데, 이게 이름과 스펙이 있는 것은 처음 알았습니다.\n패널토크 후기 Python 심포지움이지만 Java/Kotlin Spring 이야기가 30%는 차지했던 것 같습니다. 패널 세 분 중 두 분은 현재 Spring을 주로 사용하는 상황이었던 것 같았습니다. 규모가 커지면서 관례처럼 Spring으로 갈아탄 회사가 너무 많고, 그만큼 국내 점유율이 압도적인지라 어쩔 수 없는 부분이 있습니다. 특히 Spring의 Enterprise 특화되었다는 이야기에 대한 소소한 불만을 성토하는 시간이 있었습니다. Enterprise 특화 이야기가 나오는 것에 관해서는 Spring 특유의 strict한 부분과 DI가 크다고 생각해서 질문 드렸었는데 해외의 예를 들면서 Enterprise 특화는 과장된 것이고 Python도 Enterprise 레벨에서 충분히 활용가능하다고 답변주셨습니다. 이 부분은 행사가 끝나고 행사를 주최해주신 배권한 님과 따로 이야기를 나눌 기회가 있었는데, DI는 알아야할 부분이 많고 잘 써야 해서 능사는 아니라는 이야기를 해주셨습니다. 예전에 Dependency Injector를 사용하다가 Cython 구현 부분에서 원인 불명의 에러를 만났던 기억이 나면서 지나치게 DI를 고평가하지 않았나 되돌아보게 되는 계기가 되었습니다. 매우 유익한 대화였습니다.\n전반적인 후기 최근의 PyCon은 ML/DL의 비중이 커지는 추세에서 웹 개발에 집중된 부분을 따로 들을 수 있다는 게 좋았습니다. ML/DL 세션은 이론적인 부분이 차지하는 부분이 상당해서 제 입장에서 듣기 어려운 부분이 좀 있어 아쉬움이 컸습니다. 주최측에서 이번 행사가 굉장히 빠르게 매진되었다고 하셨는데, 이런 아쉬움이 있는 개발자 분들이 많았던 것 같습니다. \u0008더 멋들어질 다음 행사가 기대되네요.\n참조 PyWeb Symposium 2024 HTMX Django5 release Note Django GeneratedField SQLAlchemy Django ninja python-dependency-injector HETEOAS HAL ","wordCount":"915","inLanguage":"en","image":"https://maintain0404.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-04-08T21:09:00+09:00","dateModified":"2024-04-08T21:09:00+09:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://maintain0404.github.io/posts/pyweb_symposium_2024_review.ko/"},"publisher":{"@type":"Organization","name":"Taein.dev","logo":{"@type":"ImageObject","url":"https://maintain0404.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://maintain0404.github.io/ accesskey=h title="Taein.dev (Alt + H)"><img src=https://maintain0404.github.io/apple-touch-icon.png alt aria-label=logo height=35>Taein.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://maintain0404.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://maintain0404.github.io/archives title=archives><span>archives</span></a></li><li><a href=https://maintain0404.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://maintain0404.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://maintain0404.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">PyWeb Symposium 2024 다녀온 후기</h1><div class=post-meta><span title='2024-04-08 21:09:00 +0900 KST'>April 8, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;915 words&nbsp;·&nbsp;Me</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#개요>개요</a></li><li><a href=#세션별-후기>세션별 후기</a><ul><li><a href=#django-hipstack>Django-Hipstack</a></li><li><a href=#정답은-없지만-오답은-있답니다>정답은 없지만 오답은 있답니다.</a></li><li><a href=#sqlalchemy--postgresql>SQLAlchemy & PostgreSQL</a></li><li><a href=#flask-멀티스레딩>flask 멀티스레딩</a></li><li><a href=#캐시-패턴-진화사>캐시 패턴 진화사</a></li><li><a href=#django-migration-팁>Django Migration 팁</a></li><li><a href=#api-개발-설계-먼저-구현-먼저>API 개발 설계 먼저 구현 먼저?</a></li></ul></li><li><a href=#패널토크-후기>패널토크 후기</a></li><li><a href=#전반적인-후기>전반적인 후기</a></li><li><a href=#참조>참조</a></li></ul></nav></div></details></div><div class=post-content><h2 id=개요>개요<a hidden class=anchor aria-hidden=true href=#개요>#</a></h2><p>얼마 전 <a href=https://pyweb.python.or.kr/>한국마이크로소프트</a>에서 진행된 PyWeb Symposium 2024에 갔다온 후기를 공유합니다. 이른 티켓 매진으로 가지 못했던 분들, 그냥 다른 후기가 궁금하신 분들이 읽으면 좋을 것 같습니다.</p><h2 id=세션별-후기>세션별 후기<a hidden class=anchor aria-hidden=true href=#세션별-후기>#</a></h2><h3 id=django-hipstack>Django-Hipstack<a hidden class=anchor aria-hidden=true href=#django-hipstack>#</a></h3><p>개인적으로 가장 재밌게 봤습니다. 궁금하긴 한데 적용해보진 않은 라이브러리 대신 써보고 후기를 공유하는 세션이라 더더욱 그랬던 것 같네요.</p><ol><li>async<ul><li>발표자 분이 asyncio를 적용해본 후기를 공유해주셨습니다. 발표자분이 여기저기 async를 다 시도해보셔서 이런 저런 얘기를 해주셨지만, 결론은 <code>sync_to_async</code>, <code>async_to_sync</code>를 도배하는 것이 결론이었습니다. 개인 경험으로도 그렇고, 아직 async Django를 전체적으로 도입하는 것은 여러모로 권장되지 않는 것 같습니다.</li></ul></li><li>HTMX<ul><li>이미 써보고 있는 관점에서 흥미롭게 보았습니다. 발표자 분은 첫 페이지만 렌더링하고 이후 변경은 Trigger를 주로 사용하는 전략을 사용하신 점이 인상 깊었습니다.</li><li>저는 out-of-band 전략을 주로 사용하고 있는데, 끝나고 발표자 분께 추가 질문을 드리면서 이야기해보니까 Trigger 전략이 상당히 괜찮아 보였습니다. Frontend 라이브러리의 함수를 Trigger로 호출하면서 기존 생태계를 활용하기 편한 부분이 매력적이었습니다.</li></ul></li><li>Ninja, django-ninja-extra<ul><li>Ninja는 view를 FastAPI 스타일로 작성하게 해주는 라이브러리입니다. 테스트에서 request 객체 모킹을 안해도 되어서 굉장히 편리해졌다고 말씀해주셨습니다. FastAPI식 스타일이 제게 익숙하기도 하고 타입 힌트를 통해 IDE 지원을 굉장히 많이 받을 수 있어서 좋아보입니다. 하지만 Django REST가 제공하는 쓰로틀링 같은 부가 기능이나 써드파티 통합이 없는 부분은 아쉽습니다.</li></ul></li><li>dependency-injector<ul><li>이건 ASGI django에서 django 개발자의 오랜 친구 에러 페이지가 렌더링되지 않아서 사용하지 않게 되었다고 하셨습니다.</li><li>여담으로 이 라이브러리는 제가 쓰면서 작성한 <a href=https://github.com/ets-labs/python-dependency-injector/pull/721>PR</a>을 올려놓은 게 있는데, 그 즈음부터 쭉 유지보수가 중단되었습니다. Cython으로 작성되어 퍼포먼스가 좋고, 다양한 케이스가 풍부한 게 장점이었는데, 여러모로 아쉽습니다.</li><li>대체 라이브러리로는 injector가 유력한데, 저는 dependency-injector가 개인적으로 더 좋아서 메인테이너가 유지보수를 다시 시작하거나 커뮤니티로 프로젝트가 빠르게 이관되었으면 좋겠네요.</li></ul></li></ol><h3 id=정답은-없지만-오답은-있답니다>정답은 없지만 오답은 있답니다.<a hidden class=anchor aria-hidden=true href=#정답은-없지만-오답은-있답니다>#</a></h3><p>Python 원로분이신 발표자 분께서(나중에 패널 토크도 하셨습니다) 진행한 유일한 커리어 세션입니다. 평소에 고민하던 부분이 많고 공감되는 부분도 많아서 재미있게 들었습니다.</p><ol><li>기술적 우위란 없다, 네 생각을 믿어라<ol><li>평소에도 생각하고 있던 부분이었습니다. 아무리 권위 높은 사람의 말이라고 한들, 스스로 고민하고 내린 결론이 더 가치 있습니다.</li></ol></li><li>비용에 신경써라.<ol><li>근래 가장 고민하고 있는 부분입니다. 단순히 서버 비용을 넘어서 나의 시간 비용, 팀 비용까지 함께 균형있게 고민할 필요가 있습니다.</li></ol></li><li>패키지<ol><li>django-가 붙은 패키지는 잘 쓰지 않아서 몰랐는데, 잘 터지는 문제가 있다고 하더군요. 개별 패키지는 괜찮습니다.</li><li>역시 패키지를 추가할 때는 star 수를 잘 참고해서 추가하는 것이 좋겠습니다.</li></ol></li><li>성능<ol><li>가능하면 Python 안에서 해결하는 것이 좋다고 하셨습니다.</li><li>위의 비용 부분에 연결해서, 언어 교체는 굉장히 어려운 일입니다. 정말 언어 교체가 필요한지 잘 따져보는 것이 중요하다고 생각합니다.</li><li>데이터베이스 반정규화도 마찬가지구요. 성능에 대한 환상을 경계해야 합니다.</li></ol></li><li>Type Hint<ol><li>팀과 합의 하에 결정하라고 하십니다.</li><li>개인적으로는 mypy는 쓰지 않고, 함수/메서드 입출력은 꼭 Type Hint를 적는 것이 좋다고 생각합니다.</li><li>mypy는 신경써야할 부분이 지나치게 많다고 생각합니다.</li></ol></li><li>레거시란 없다.<ol><li>돈을 벌고 있으면 레거시가 아니라고 합니다.</li><li>프로덕트를 개발하면서 비용과 고객을 간과하고는 합니다. 우리 개발자들은 코드만큼이나 비용과 고객을 더 잘 고려할 필요가 있다고 생각해요.</li></ol></li></ol><h3 id=sqlalchemy--postgresql>SQLAlchemy & PostgreSQL<a hidden class=anchor aria-hidden=true href=#sqlalchemy--postgresql>#</a></h3><p>SQLAlchemy와 PostgreSQL을 사용하면서 마주했던 문제들을 해결한 후기를 공유해주셨습니다. SQLAlchemy를 오래 사용해왔던 입장에서 알았던 것도 있고, 알았지만 잘 신경쓰지 않았던 부분도 있고, 몰랐던 부분도 있어서 흥미롭게 들었습니다. 잘 몰랐거나 신경쓰지 않았던 기억에 남는 부분만 정리하면 아래와 같습니다.</p><ol><li>풀 재활용<ol><li>DB에서 커넥션을 닫아도 SQLAlchemy 풀에서 탐지되지 않을 수 있음</li><li>DB 연결 시간보다 recycle을 짧게 설정해 강제로 재연결하게 설정하면 위 문제가 일어나지 않음</li></ol></li><li>tenacity<ol><li>다용도로 쓸 수 있는 retry 라이브러리입니다. 상당히 괜찮아 보입니다.</li></ol></li><li>PostgreSQL Serialization Failure<ol><li>고립 수준 3단계 이상에서 생길 수 있는 문제로, 롤백/세이브포인트로 해결이 불가능하고 트랜잭션 재시도를 통해서만 해결이 가능하다고 합니다.</li><li>곰곰히 생각해보면 Serialization Failure는 다른 트랜잭션 간의 충돌 문제이므로 롤백/세이브포인트로는 해결 불가능한 것이 당연하다고 볼 수 있습니다.</li><li><a href=https://www.postgresql.org/docs/current/mvcc-serialization-failure-handling.html>공식 문서</a>에도 나와있습니다.</li></ol></li></ol><h3 id=flask-멀티스레딩>flask 멀티스레딩<a hidden class=anchor aria-hidden=true href=#flask-멀티스레딩>#</a></h3><p>멀티스레딩/멀티프로세싱/코루틴을 각각 사용해보고 비교해보는 내용을 공유해주셨습니다. Flask 이야기는 거의 없었네요.</p><h3 id=캐시-패턴-진화사>캐시 패턴 진화사<a hidden class=anchor aria-hidden=true href=#캐시-패턴-진화사>#</a></h3><p>서비스가 커지면서 커지는 부하를 감당하기 위해 캐시 코드를 점차 개선한 후기를 공유해주셨습니다. 총 5번의 진화 단계를 공유해주셨습니다.</p><ol><li>일단 붙이기</li><li>레이어 정리하고 View에만 붙이기</li><li>쓰기 락 걸기</li><li>구 버전 유지하고, 락 중에 구 버전 응답</li><li>최초 쓰기 시점에 바로 캐시 set</li></ol><h3 id=django-migration-팁>Django Migration 팁<a hidden class=anchor aria-hidden=true href=#django-migration-팁>#</a></h3><p>django에서는 DB에서 변경이 일어나지 않았더라도 Model field의 변경이 있으면 마이그레이션을 생성합니다. 이 마이그레이션이 불편해서 생기지 않게 하기 위해 노력한 후기를 공유해주셨습니다. 사실 이게 무시해도 별 상관없는 귀찮은 부분이라 저도 언젠가 고쳐야지 하고 딱히 건들지 않았습니다. 파일이</p><h3 id=api-개발-설계-먼저-구현-먼저>API 개발 설계 먼저 구현 먼저?<a hidden class=anchor aria-hidden=true href=#api-개발-설계-먼저-구현-먼저>#</a></h3><p>후원사(Microsoft) 세션입니다. API는 일종의 계약임을 강조하며 Microsoft 프로덕트를 활용해 API spec Driven 개발 방법을 설명해주셨습니다. spec driven 개발의 필요성은 매우 공감하지만 code -> OpenAPI spec 변환과 달리 OpenAPI spec -> code 변환이 대체로 더 구리고 귀찮은 관계로 사용하지 않았습니다. 기획 단계에서 글로 스펙을 정의하고, OpenAPI 스펙은 code에서 뽑아내는 것이 일반적이었습니다.
일반적으로 잘 알려진 HETEOAS(Hypermedia as The Engine Of Application)원칙 외에도 HAL(Hypertext Application Language)를 처음 알게되어 좋았습니다. 꼭 HAL을 준수해서 사용하지 않아도 HAL에서 사용하는 링크는 자주 썼었는데, 이게 이름과 스펙이 있는 것은 처음 알았습니다.</p><h2 id=패널토크-후기>패널토크 후기<a hidden class=anchor aria-hidden=true href=#패널토크-후기>#</a></h2><p>Python 심포지움이지만 Java/Kotlin Spring 이야기가 30%는 차지했던 것 같습니다. 패널 세 분 중 두 분은 현재 Spring을 주로 사용하는 상황이었던 것 같았습니다. 규모가 커지면서 관례처럼 Spring으로 갈아탄 회사가 너무 많고, 그만큼 국내 점유율이 압도적인지라 어쩔 수 없는 부분이 있습니다. 특히 Spring의 Enterprise 특화되었다는 이야기에 대한 소소한 불만을 성토하는 시간이 있었습니다.
Enterprise 특화 이야기가 나오는 것에 관해서는 Spring 특유의 strict한 부분과 DI가 크다고 생각해서 질문 드렸었는데 해외의 예를 들면서 Enterprise 특화는 과장된 것이고 Python도 Enterprise 레벨에서 충분히 활용가능하다고 답변주셨습니다. 이 부분은 행사가 끝나고 행사를 주최해주신 배권한 님과 따로 이야기를 나눌 기회가 있었는데, DI는 알아야할 부분이 많고 잘 써야 해서 능사는 아니라는 이야기를 해주셨습니다. 예전에 <a href=https://python-dependency-injector.ets-labs.org/>Dependency Injector</a>를 사용하다가 Cython 구현 부분에서 원인 불명의 에러를 만났던 기억이 나면서 지나치게 DI를 고평가하지 않았나 되돌아보게 되는 계기가 되었습니다. 매우 유익한 대화였습니다.</p><h2 id=전반적인-후기>전반적인 후기<a hidden class=anchor aria-hidden=true href=#전반적인-후기>#</a></h2><p>최근의 PyCon은 ML/DL의 비중이 커지는 추세에서 웹 개발에 집중된 부분을 따로 들을 수 있다는 게 좋았습니다. ML/DL 세션은 이론적인 부분이 차지하는 부분이 상당해서 제 입장에서 듣기 어려운 부분이 좀 있어 아쉬움이 컸습니다. 주최측에서 이번 행사가 굉장히 빠르게 매진되었다고 하셨는데, 이런 아쉬움이 있는 개발자 분들이 많았던 것 같습니다. 더 멋들어질 다음 행사가 기대되네요.</p><h2 id=참조>참조<a hidden class=anchor aria-hidden=true href=#참조>#</a></h2><ul><li><a href=https://pyweb.python.or.kr/>PyWeb Symposium 2024</a></li><li><a href=https://htmx.org/>HTMX</a></li><li><a href=https://docs.djangoproject.com/en/5.0/releases/5.0/>Django5 release Note</a></li><li><a href=https://docs.djangoproject.com/en/5.0/ref/models/fields/#django.db.models.GeneratedField>Django GeneratedField</a></li><li><a href=https://www.sqlalchemy.org/>SQLAlchemy</a></li><li><a href=https://django-ninja.dev/>Django ninja</a></li><li><a href=https://python-dependency-injector.ets-labs.org/>python-dependency-injector</a></li><li><a href=https://en.wikipedia.org/wiki/HATEOAS>HETEOAS</a></li><li><a href=https://en.wikipedia.org/wiki/Hypertext_Application_Language>HAL</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://maintain0404.github.io/tags/python/>python</a></li><li><a href=https://maintain0404.github.io/tags/pywebsymposium2024/>PyWebSymposium2024</a></li></ul><nav class=paginav><a class=prev href=https://maintain0404.github.io/posts/starting_small_service.ko/><span class=title>« Prev</span><br><span>작은 서비스를 위한 인프라 선택하기</span>
</a><a class=next href=https://maintain0404.github.io/posts/codetree_review.ko/><span class=title>Next »</span><br><span>코드트리 1달간 사용해본 후기</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share PyWeb Symposium 2024 다녀온 후기 on x" href="https://x.com/intent/tweet/?text=PyWeb%20Symposium%202024%20%eb%8b%a4%eb%85%80%ec%98%a8%20%ed%9b%84%ea%b8%b0&amp;url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f&amp;hashtags=python%2cPyWebSymposium2024"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share PyWeb Symposium 2024 다녀온 후기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f&amp;title=PyWeb%20Symposium%202024%20%eb%8b%a4%eb%85%80%ec%98%a8%20%ed%9b%84%ea%b8%b0&amp;summary=PyWeb%20Symposium%202024%20%eb%8b%a4%eb%85%80%ec%98%a8%20%ed%9b%84%ea%b8%b0&amp;source=https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share PyWeb Symposium 2024 다녀온 후기 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f&title=PyWeb%20Symposium%202024%20%eb%8b%a4%eb%85%80%ec%98%a8%20%ed%9b%84%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share PyWeb Symposium 2024 다녀온 후기 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share PyWeb Symposium 2024 다녀온 후기 on whatsapp" href="https://api.whatsapp.com/send?text=PyWeb%20Symposium%202024%20%eb%8b%a4%eb%85%80%ec%98%a8%20%ed%9b%84%ea%b8%b0%20-%20https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share PyWeb Symposium 2024 다녀온 후기 on telegram" href="https://telegram.me/share/url?text=PyWeb%20Symposium%202024%20%eb%8b%a4%eb%85%80%ec%98%a8%20%ed%9b%84%ea%b8%b0&amp;url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share PyWeb Symposium 2024 다녀온 후기 on ycombinator" href="https://news.ycombinator.com/submitlink?t=PyWeb%20Symposium%202024%20%eb%8b%a4%eb%85%80%ec%98%a8%20%ed%9b%84%ea%b8%b0&u=https%3a%2f%2fmaintain0404.github.io%2fposts%2fpyweb_symposium_2024_review.ko%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=maintain0404/blog issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://maintain0404.github.io/>Taein.dev</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>