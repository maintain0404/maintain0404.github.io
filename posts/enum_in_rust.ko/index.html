<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Rust enum 이해하기 | Taein.dev</title>
<meta name=keywords content="Type,Rust"><meta name=description content="Rust에서 가장 중요한 enum에 대해 정리해봤습니다."><meta name=author content="Me"><link rel=canonical href=https://maintain0404.github.io/posts/enum_in_rust.ko/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://maintain0404.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://maintain0404.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://maintain0404.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://maintain0404.github.io/apple-touch-icon.png><link rel=mask-icon href=https://maintain0404.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-HBTP6KYQ2X"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HBTP6KYQ2X",{anonymize_ip:!1})}</script><meta property="og:title" content="Rust enum 이해하기"><meta property="og:description" content="Rust에서 가장 중요한 enum에 대해 정리해봤습니다."><meta property="og:type" content="article"><meta property="og:url" content="https://maintain0404.github.io/posts/enum_in_rust.ko/"><meta property="og:image" content="https://maintain0404.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-18T22:54:00+09:00"><meta property="article:modified_time" content="2024-02-18T22:54:00+09:00"><meta property="og:site_name" content="Taein.dev"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://maintain0404.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Rust enum 이해하기"><meta name=twitter:description content="Rust에서 가장 중요한 enum에 대해 정리해봤습니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://maintain0404.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Rust enum 이해하기","item":"https://maintain0404.github.io/posts/enum_in_rust.ko/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Rust enum 이해하기","name":"Rust enum 이해하기","description":"Rust에서 가장 중요한 enum에 대해 정리해봤습니다.","keywords":["Type","Rust"],"articleBody":"개요 Rust 를 공부하게 되면 가장 핵심적으로 다루는 키워드가 있습니다. 바로 enum 입니다. 다른 언어에서 쓰이는 Enum 과 용도가 조금 달라 혼란스러운 부분이 있습니다. 이 글에서는 enum이 무엇인지, 어떻게 사용하는지, 다른 언어와는 어떻게 다른지 알아보겠습니다.\nRust의 enum 간단하게 살펴보기 설명 enum 은 키워드 중 하나로 여러 종류가 될 수 있는 타입을 선언하는 데 사용됩니다. 구조체 선언과 비슷한 문법을 사용합니다.\n예시 Rust의 enum 은 주로 match 키워드와 함께 사용됩니다. match 키워드를 통해서 이 enum 이 어떤 종류인지 파악하고 종류에 따라 적절한 로직을 실행하게 할 수 있습니다. 상품을 장바구니에 넣었고 외부 API를 통해 결제하려는 상황을 간단하게 생각해보겠습니다. 가능한 결제수단은 현금, 직불카드, 신용카드 3가지로 가정하겠습니다.\n세 가지 결제 방법은 서로 다른 API URI를 사용합니다. 현금결제는 추가적인 정보가 필요 없습니다. 직불카드는 어떤 카드를 쓸지 카드 번호가 필요합니다. 신용카드는 직불카드처럼 카드 번호가 필요하고, 또 몇 개월 할부로 결제할지 알아야 합니다. 이를 enum 으로 나타내면 다음과 같습니다. enum PaymentMethod { Cash, // 현금결제하는 경우 DebitCard(String) // 직불카드로 결제하는 경우. 카드 번호를 포함 CreditCard{ // 신용카드로 결제하는 경우. 카드 번호와 할부 개월 수를 포함함 number: String, installment: i64 }, } 그리고 결제를 실행하는 메소드를 작성한다면 아래처럼 작성할 수 있습니다. match를 통해서 enum을 분해하고 항목별로 다른 로직을 실행합니다.\n// 각 결제 방법별 API URI const cash_uri: \u0026str = \"...\"; const debit_uri: \u0026str = \"...\"; const credit_uri: \u0026str = \"...\"; fn pay(method: PaymentMethod, amount: i64) { match method { // match는 enum의 가능한 모든 값을 처리해야합니다. Cash =\u003e { let req = build_pay_request_with_cash_(cash_uri, amount); request(cach_uri, req); }, DebitCard(card_number) =\u003e { let req = build_pay_request_with_debit_card(debit_uri, card_number, amount) request(debit_uri, req); }, CreditCard { number, installment } =\u003e { let req = build_pay_request_with_credit_card(credit_uri, card_number, amount, installment); request(credit_uri, req); } } } 다른 언어의 Enum(Python) 위 결제 코드를 Python 으로 다시 작성해보겠습니다.\nclass PaymentMethod(str, Enum): CASH = \"cash_uri\" DEBIT_CARD = \"debit_card_uri\" CREDIT_CARD = \"credit_card_uri\" def pay(method: PaymentMethod, amount: int, **extra_infos) { if method == PaymentMethod.Cash: req = build_pay_request_with_cach(amount, **extra_infos) request(method, req) elif method == PaymentMethod.DebitCard: let req = build_pay_request_with_debit_card( amount, **extra_infos) request(method, req) elif method == PaymentMethod.CreditCard: let req = build_pay_request_with_credit_card( amount, **extra_infos ) request(method, req) \u0008Rust 와 가장 다른 점은 Enum 의 선언부입니다. Enum 의 각 항목에 값이 직접 매핑되어 있습니다. 이것이 가장 큰 차이점입니다. Rust의 enum은 값이 직접 매핑되지 않습니다. Rust 의 각 항목에 매칭되는 것은 값이 아닌 타입입니다. Python의 Enum은 값이라서 직접 비교가 가능하고, 상수를 대신할 수 있으며, 상위 타입(예시에서는 str)의 일반적인 인스턴스처럼 취급할 수 있습니다. 이름은 동일하지만 Rust의 enum은 다른 언어와 완전히 다른 것으로 취급해야 합니다.\nRust의 Enum은 Union이다. 결론적으로 Rust의 enum은 Python/TypeScript/Kotlin 의 Union 타입에 해당합니다.(예시를 작성하지 않았지만 Python과 유사합니다) enum 과 Union 의 차이점은 Union 은 타입의 집합이고, Enum은 값의 집합이라는 것입니다. 즉, Rust의 enum은 타입의 집합입니다.\n구현 측면에서 왜 Union인가? 메모리 레이아웃(객체가 실제로 저장되는 구조)를 통해서 살펴보겠습니다. Python의 객체는 다음처럼 메모리 레이아웃이 짜여집니다.\n| type | data | 즉, Union 타입의 실제 타입을 결정하는 것은 위 type 필드를 비교하여 \u0008일치하는 실제 타입으로 해석하는 과정이라 할 수 있습니다. 코드로 살펴본다면 아래의 isinstance 연산은 메모리 레이아웃에서 type 부분을 읽고 비교하는 것과 동일합니다.\ndef func(a): if isinstance(a, int): ... elif isinstance(a, str) ... else: ... Rust 의 enum 레이아웃은 아래처럼 구성됩니다.\n// Enum 종류별로 descrimitor 값이 다르고, // 그에 따라 data를 해석하는 방법이 달라집니다. | descrimitor | data | 앞부분(type, descrimitor)를 비교하여 실제 항목을 구분하고 항목에 따라서 data를 읽는 방법이 달라집니다. 실제 메모리를 해석하는 방법에서 유사성을 보이는 것을 알 수 있습니다. 반대로 Python 의 Enum 은 값(클래스 이름 공간에 속합니다)으로 동작하므로 앞부분 type을 비교하는 것이 아닌, 값을 비교해서 종류를 구분합니다.\n// CASH, DEBIT_CARD, CREDIT_CARD 모두 type은 Payment 클래스이고, 상수입니다. // type은 동일하지만 data는 다릅니다. | type | data | 여기까지 Rust 의 Enum 이 왜 다른 언어의 Union 에 가까운지 알아보았습니다. 그렇다면, 키워드 이름이 union 이 아닌 enum 이 된 이유가 무엇일까요? union이었다면 다른 언어로 개발하다 온 Rust 초심자들이 혼란을 겪었을 이유도 없었을 텐데 말입니다.\nUnion이 아닌 enum이 된 이유 사실 Rust에는 이미 union 키워드가 정의되어 있습니다. C/C++의 공용체(union)에 대응하기 위한 제한적인 용도로 만들어졌고, C/C++의 그것과 용법도 동일합니다. 하지만, 가능하면 union을 쓰지 않을 것을 권장하고 있습니다.\nRust/C/C++ union의 위험성 union을 사용하지 Rust enum을 사용해야 하는 이유는 어떤 항목의 값을 가지고 있는 지 수동으로 추적해야하기 때문입니다.\n// Copied from https://google.github.io/comprehensive-rust/ko/unsafe/unions.html #[repr(C)] union MyUnion { i: u8, b: bool, } fn main() { let u = MyUnion { i: 42 }; println!(\"int: {}\", unsafe { u.i }); // int: 42 println!(\"bool: {}\", unsafe { u.b }); // bool: true } 위 코드에서 b에는 어떤 값도 할당하지 않았습니다. 하지만 true값을 가지고 있죠. i와 메모리 공간을 공유하기 때문에 i를 수정하면 b의 값도 그에 따라 변화하기 때문입니다. 이게 union 이 위험한 이유입니다. 다른 필드를 수정했지만 값이 바뀝니다.\n결론 Rust의 enum은 그 자체로 값을 가지지 않는 타입 집합입니다. Rust enum은 다른 언어의 union 타입과 유사합니다. Rust union은 가능하면 쓰지 맙시다. 참조 cheats.rs https://github.com/python/cpython https://google.github.io/comprehensive-rust/ko/unsafe/unions.html https://dasima.xyz/c-union-declaration/ ","wordCount":"770","inLanguage":"en","datePublished":"2024-02-18T22:54:00+09:00","dateModified":"2024-02-18T22:54:00+09:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://maintain0404.github.io/posts/enum_in_rust.ko/"},"publisher":{"@type":"Organization","name":"Taein.dev","logo":{"@type":"ImageObject","url":"https://maintain0404.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://maintain0404.github.io/ accesskey=h title="Taein.dev (Alt + H)"><img src=https://maintain0404.github.io/apple-touch-icon.png alt aria-label=logo height=35>Taein.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://maintain0404.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://maintain0404.github.io/archives title=archives><span>archives</span></a></li><li><a href=https://maintain0404.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://maintain0404.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://maintain0404.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Rust enum 이해하기</h1><div class=post-meta><span title='2024-02-18 22:54:00 +0900 KST'>February 18, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;770 words&nbsp;·&nbsp;Me</div></header><div class=post-content><h2 id=개요>개요<a hidden class=anchor aria-hidden=true href=#개요>#</a></h2><p><code>Rust</code> 를 공부하게 되면 가장 핵심적으로 다루는 키워드가 있습니다. 바로 <code>enum</code> 입니다. 다른 언어에서 쓰이는 <code>Enum</code> 과 용도가 조금 달라 혼란스러운 부분이 있습니다. 이 글에서는 <code>enum</code>이 무엇인지, 어떻게 사용하는지, 다른 언어와는 어떻게 다른지 알아보겠습니다.</p><h2 id=rust의-enum-간단하게-살펴보기>Rust의 enum 간단하게 살펴보기<a hidden class=anchor aria-hidden=true href=#rust의-enum-간단하게-살펴보기>#</a></h2><h3 id=설명>설명<a hidden class=anchor aria-hidden=true href=#설명>#</a></h3><p><code>enum</code> 은 키워드 중 하나로 여러 종류가 될 수 있는 타입을 선언하는 데 사용됩니다. 구조체 선언과 비슷한 문법을 사용합니다.</p><h3 id=예시>예시<a hidden class=anchor aria-hidden=true href=#예시>#</a></h3><p><code>Rust</code>의 <code>enum</code> 은 주로 <code>match</code> 키워드와 함께 사용됩니다. <code>match</code> 키워드를 통해서 이 <code>enum</code> 이 어떤 종류인지 파악하고 종류에 따라 적절한 로직을 실행하게 할 수 있습니다. 상품을 장바구니에 넣었고 외부 API를 통해 결제하려는 상황을 간단하게 생각해보겠습니다. 가능한 결제수단은 현금, 직불카드, 신용카드 3가지로 가정하겠습니다.</p><ol><li>세 가지 결제 방법은 서로 다른 API URI를 사용합니다.</li><li>현금결제는 추가적인 정보가 필요 없습니다.</li><li>직불카드는 어떤 카드를 쓸지 카드 번호가 필요합니다.</li><li>신용카드는 직불카드처럼 카드 번호가 필요하고, 또 몇 개월 할부로 결제할지 알아야 합니다.
이를 <code>enum</code> 으로 나타내면 다음과 같습니다.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-Rust data-lang=Rust><span class=line><span class=cl><span class=k>enum</span> <span class=nc>PaymentMethod</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Cash</span><span class=p>,</span><span class=w>  </span><span class=c1>// 현금결제하는 경우
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>DebitCard</span><span class=p>(</span><span class=nb>String</span><span class=p>)</span><span class=w>  </span><span class=c1>// 직불카드로 결제하는 경우. 카드 번호를 포함
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>CreditCard</span><span class=p>{</span><span class=w>  </span><span class=c1>// 신용카드로 결제하는 경우. 카드 번호와 할부 개월 수를 포함함
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=n>number</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>installment</span>: <span class=kt>i64</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>그리고 결제를 실행하는 메소드를 작성한다면 아래처럼 작성할 수 있습니다. match를 통해서 enum을 분해하고 항목별로 다른 로직을 실행합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Rust data-lang=Rust><span class=line><span class=cl><span class=c1>// 각 결제 방법별 API URI
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span><span class=w> </span><span class=n>cash_uri</span>: <span class=kp>&amp;</span><span class=kt>str</span> <span class=o>=</span><span class=w> </span><span class=s>&#34;...&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>const</span><span class=w> </span><span class=n>debit_uri</span>: <span class=kp>&amp;</span><span class=kt>str</span> <span class=o>=</span><span class=w> </span><span class=s>&#34;...&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>const</span><span class=w> </span><span class=n>credit_uri</span>: <span class=kp>&amp;</span><span class=kt>str</span> <span class=o>=</span><span class=w> </span><span class=s>&#34;...&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>pay</span><span class=p>(</span><span class=n>method</span>: <span class=nc>PaymentMethod</span><span class=p>,</span><span class=w> </span><span class=n>amount</span>: <span class=kt>i64</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>match</span><span class=w> </span><span class=n>method</span><span class=w> </span><span class=p>{</span><span class=w>  </span><span class=c1>// match는 enum의 가능한 모든 값을 처리해야합니다.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>        </span><span class=n>Cash</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>req</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>build_pay_request_with_cash_</span><span class=p>(</span><span class=n>cash_uri</span><span class=p>,</span><span class=w> </span><span class=n>amount</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>request</span><span class=p>(</span><span class=n>cach_uri</span><span class=p>,</span><span class=w> </span><span class=n>req</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>DebitCard</span><span class=p>(</span><span class=n>card_number</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>req</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>build_pay_request_with_debit_card</span><span class=p>(</span><span class=n>debit_uri</span><span class=p>,</span><span class=w> </span><span class=n>card_number</span><span class=p>,</span><span class=w> </span><span class=n>amount</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>request</span><span class=p>(</span><span class=n>debit_uri</span><span class=p>,</span><span class=w> </span><span class=n>req</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>},</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>CreditCard</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>number</span><span class=p>,</span><span class=w> </span><span class=n>installment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>req</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>build_pay_request_with_credit_card</span><span class=p>(</span><span class=n>credit_uri</span><span class=p>,</span><span class=w> </span><span class=n>card_number</span><span class=p>,</span><span class=w> </span><span class=n>amount</span><span class=p>,</span><span class=w> </span><span class=n>installment</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>request</span><span class=p>(</span><span class=n>credit_uri</span><span class=p>,</span><span class=w> </span><span class=n>req</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=다른-언어의-enumpython>다른 언어의 Enum(Python)<a hidden class=anchor aria-hidden=true href=#다른-언어의-enumpython>#</a></h2><p>위 결제 코드를 <code>Python</code> 으로 다시 작성해보겠습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>class</span> <span class=nc>PaymentMethod</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>Enum</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>CASH</span> <span class=o>=</span> <span class=s2>&#34;cash_uri&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>DEBIT_CARD</span> <span class=o>=</span> <span class=s2>&#34;debit_card_uri&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>CREDIT_CARD</span> <span class=o>=</span> <span class=s2>&#34;credit_card_uri&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>pay</span><span class=p>(</span><span class=n>method</span><span class=p>:</span> <span class=n>PaymentMethod</span><span class=p>,</span> <span class=n>amount</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=o>**</span><span class=n>extra_infos</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>method</span> <span class=o>==</span> <span class=n>PaymentMethod</span><span class=o>.</span><span class=n>Cash</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>req</span> <span class=o>=</span> <span class=n>build_pay_request_with_cach</span><span class=p>(</span><span class=n>amount</span><span class=p>,</span> <span class=o>**</span><span class=n>extra_infos</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span><span class=p>(</span><span class=n>method</span><span class=p>,</span> <span class=n>req</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>method</span> <span class=o>==</span> <span class=n>PaymentMethod</span><span class=o>.</span><span class=n>DebitCard</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>let</span> <span class=n>req</span> <span class=o>=</span> <span class=n>build_pay_request_with_debit_card</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>amount</span><span class=p>,</span> <span class=o>**</span><span class=n>extra_infos</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span><span class=p>(</span><span class=n>method</span><span class=p>,</span> <span class=n>req</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>method</span> <span class=o>==</span> <span class=n>PaymentMethod</span><span class=o>.</span><span class=n>CreditCard</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>let</span> <span class=n>req</span> <span class=o>=</span> <span class=n>build_pay_request_with_credit_card</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>amount</span><span class=p>,</span> <span class=o>**</span><span class=n>extra_infos</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>request</span><span class=p>(</span><span class=n>method</span><span class=p>,</span> <span class=n>req</span><span class=p>)</span>
</span></span></code></pre></div><p><code>Rust</code> 와 가장 다른 점은 <code>Enum</code> 의 선언부입니다. <code>Enum</code> 의 각 항목에 값이 직접 매핑되어 있습니다. 이것이 가장 큰 차이점입니다. <code>Rust</code>의 <code>enum</code>은 값이 직접 매핑되지 않습니다. <strong><code>Rust</code> 의 각 항목에 매칭되는 것은 값이 아닌 타입</strong>입니다. <code>Python</code>의 <code>Enum</code>은 값이라서 직접 비교가 가능하고, 상수를 대신할 수 있으며, 상위 타입(예시에서는 str)의 일반적인 인스턴스처럼 취급할 수 있습니다. 이름은 동일하지만 <strong><code>Rust</code>의 <code>enum</code>은 다른 언어와 완전히 다른 것으로 취급해야 합니다</strong>.</p><h2 id=rust의-enum은-union이다>Rust의 Enum은 Union이다.<a hidden class=anchor aria-hidden=true href=#rust의-enum은-union이다>#</a></h2><p>결론적으로 <code>Rust</code>의 <code>enum</code>은 <code>Python</code>/<code>TypeScript</code>/<code>Kotlin</code> 의 <code>Union</code> 타입에 해당합니다.(예시를 작성하지 않았지만 Python과 유사합니다) <code>enum</code> 과 <code>Union</code> 의 차이점은 <code>Union</code> 은 <strong>타입의 집합</strong>이고, <code>Enum</code>은 <strong>값의 집합</strong>이라는 것입니다. 즉, <code>Rust</code>의 <code>enum</code>은 타입의 집합입니다.</p><h3 id=구현-측면에서-왜-union인가>구현 측면에서 왜 Union인가?<a hidden class=anchor aria-hidden=true href=#구현-측면에서-왜-union인가>#</a></h3><p>메모리 레이아웃(객체가 실제로 저장되는 구조)를 통해서 살펴보겠습니다. Python의 객체는 다음처럼 메모리 레이아웃이 짜여집니다.</p><pre tabindex=0><code>| type | data |
</code></pre><p>즉, <code>Union</code> 타입의 실제 타입을 결정하는 것은 위 <code>type</code> 필드를 비교하여 일치하는 실제 타입으로 해석하는 과정이라 할 수 있습니다. 코드로 살펴본다면 아래의 <code>isinstance</code> 연산은 메모리 레이아웃에서 type 부분을 읽고 비교하는 것과 동일합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>def</span> <span class=nf>func</span><span class=p>(</span><span class=n>a</span><span class=p>):</span>
</span></span><span class=line><span class=cl>   <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>       <span class=o>...</span>
</span></span><span class=line><span class=cl>   <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
</span></span><span class=line><span class=cl>       <span class=o>...</span>
</span></span><span class=line><span class=cl>   <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>       <span class=o>...</span>
</span></span></code></pre></div><p><code>Rust</code> 의 <code>enum</code> 레이아웃은 아래처럼 구성됩니다.</p><pre tabindex=0><code>// Enum 종류별로 descrimitor 값이 다르고, 
// 그에 따라 data를 해석하는 방법이 달라집니다.
| descrimitor | data | 
</code></pre><p>앞부분(type, descrimitor)를 비교하여 실제 항목을 구분하고 항목에 따라서 data를 읽는 방법이 달라집니다. 실제 메모리를 해석하는 방법에서 유사성을 보이는 것을 알 수 있습니다.
반대로 <code>Python</code> 의 <code>Enum</code> 은 값(클래스 이름 공간에 속합니다)으로 동작하므로 앞부분 <code>type</code>을 비교하는 것이 아닌, 값을 비교해서 종류를 구분합니다.</p><pre tabindex=0><code>// CASH, DEBIT_CARD, CREDIT_CARD 모두 type은 Payment 클래스이고, 상수입니다.
// type은 동일하지만 data는 다릅니다.
| type | data | 
</code></pre><p>여기까지 <code>Rust</code> 의 <code>Enum</code> 이 왜 다른 언어의 <code>Union</code> 에 가까운지 알아보았습니다. 그렇다면, 키워드 이름이 <code>union</code> 이 아닌 <code>enum</code> 이 된 이유가 무엇일까요? <code>union</code>이었다면 다른 언어로 개발하다 온 <code>Rust</code> 초심자들이 혼란을 겪었을 이유도 없었을 텐데 말입니다.</p><h2 id=union이-아닌-enum이-된-이유>Union이 아닌 enum이 된 이유<a hidden class=anchor aria-hidden=true href=#union이-아닌-enum이-된-이유>#</a></h2><p>사실 <code>Rust</code>에는 이미 <code>union</code> 키워드가 정의되어 있습니다. <code>C/C++</code>의 공용체(<code>union</code>)에 대응하기 위한 제한적인 용도로 만들어졌고, <code>C/C++</code>의 그것과 용법도 동일합니다. 하지만, 가능하면 <code>union</code>을 쓰지 않을 것을 권장하고 있습니다.</p><h3 id=rustcc-union의-위험성>Rust/C/C++ union의 위험성<a hidden class=anchor aria-hidden=true href=#rustcc-union의-위험성>#</a></h3><p><code>union</code>을 사용하지 <code>Rust</code> <code>enum</code>을 사용해야 하는 이유는 어떤 항목의 값을 가지고 있는 지 수동으로 추적해야하기 때문입니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-RUst data-lang=RUst><span class=line><span class=cl><span class=c1>// Copied from https://google.github.io/comprehensive-rust/ko/unsafe/unions.html
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#[repr(C)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>union</span> <span class=nc>MyUnion</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>i</span>: <span class=kt>u8</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>b</span>: <span class=kt>bool</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>u</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>MyUnion</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>i</span>: <span class=mi>42</span><span class=w> </span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;int: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=k>unsafe</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>i</span><span class=w> </span><span class=p>});</span><span class=w>  </span><span class=c1>// int: 42
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;bool: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=k>unsafe</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>u</span><span class=p>.</span><span class=n>b</span><span class=w> </span><span class=p>});</span><span class=w>  </span><span class=c1>// bool: true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>위 코드에서 b에는 어떤 값도 할당하지 않았습니다. 하지만 true값을 가지고 있죠. i와 메모리 공간을 공유하기 때문에 i를 수정하면 b의 값도 그에 따라 변화하기 때문입니다. 이게 <code>union</code> 이 위험한 이유입니다. 다른 필드를 수정했지만 값이 바뀝니다.</p><h2 id=결론>결론<a hidden class=anchor aria-hidden=true href=#결론>#</a></h2><ol><li><code>Rust</code>의 <code>enum</code>은 그 자체로 값을 가지지 않는 타입 집합입니다.</li><li><code>Rust</code> <code>enum</code>은 다른 언어의 <code>union</code> 타입과 유사합니다.</li><li><code>Rust</code> <code>union</code>은 가능하면 쓰지 맙시다.</li></ol><h2 id=참조>참조<a hidden class=anchor aria-hidden=true href=#참조>#</a></h2><ul><li><a href=https://cheats.rs>cheats.rs</a></li><li><a href=https://github.com/python/cpython>https://github.com/python/cpython</a></li><li><a href=https://google.github.io/comprehensive-rust/ko/unsafe/unions.html>https://google.github.io/comprehensive-rust/ko/unsafe/unions.html</a></li><li><a href=https://dasima.xyz/c-union-declaration/>https://dasima.xyz/c-union-declaration/</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://maintain0404.github.io/tags/type/>Type</a></li><li><a href=https://maintain0404.github.io/tags/rust/>Rust</a></li></ul><nav class=paginav><a class=prev href=https://maintain0404.github.io/posts/codetree_review.ko/><span class=title>« Prev</span><br><span>코드트리 1달간 사용해본 후기</span>
</a><a class=next href=https://maintain0404.github.io/posts/develop_asgi_server_2.ko/><span class=title>Next »</span><br><span>ASGI 서버 개발기 2 - HTTP 헤더 처리하기</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Rust enum 이해하기 on x" href="https://x.com/intent/tweet/?text=Rust%20enum%20%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f&amp;hashtags=Type%2cRust"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Rust enum 이해하기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f&amp;title=Rust%20enum%20%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0&amp;summary=Rust%20enum%20%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0&amp;source=https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Rust enum 이해하기 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f&title=Rust%20enum%20%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Rust enum 이해하기 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Rust enum 이해하기 on whatsapp" href="https://api.whatsapp.com/send?text=Rust%20enum%20%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0%20-%20https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Rust enum 이해하기 on telegram" href="https://telegram.me/share/url?text=Rust%20enum%20%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Rust enum 이해하기 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Rust%20enum%20%ec%9d%b4%ed%95%b4%ed%95%98%ea%b8%b0&u=https%3a%2f%2fmaintain0404.github.io%2fposts%2fenum_in_rust.ko%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=maintain0404/blog issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://maintain0404.github.io/>Taein.dev</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>